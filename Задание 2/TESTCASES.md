# TESTCASES.md

## Общая информация
**Cервис:** Хранение данных объявлений

**Описание:**
Сервис позволяет сохранять и получать объявления по пользователю. Каждое объявление имеет уникальный `id`, остальные поля могут повторяться.

### **Тест-кейсы для API**

## **POST /api/1/item** (Создание объявления, логика из первой коллекции)
| ID  | Название                                      | Описание                                                                 | Ожидаемый результат                     |
|----|--------------------------------|---------------------------------------------------------------------------|----------------------------------|
| 1  | Проверка кода ответа при POST | Отправляет объект на сервер и проверяет, что ответ имеет код 200 или 201 | Код 200 или 201                   |
| 2  | Проверка создания объекта     | Отправляет объект, извлекает ID из ответа                                 | ID присутствует в статусе ответа  |
| 3  | Проверка получения объекта    | Отправляет объект, получает его по ID и проверяет поля                   | Данные соответствуют отправленным |
| 4  | POST с пустым телом           | Отправляет пустое тело запроса                                            | Код 400                           |
| 5  | POST без обязательных полей   | Отправляет объект без одного из полей name, price, statistics             | Код 200 или 201                   |
| 6  | POST без sellerId             | Отправляет объект без sellerId                                            | Код 400                           |
| 7  | POST с некорректными данными  | Отправляет объект с некорректными значениями полей                        | Код 400                           |



## **POST /api/1/item** (Создание объявления, логика из последней коллекции)
| ID  | Название                                      | Описание                                                                 | Ожидаемый результат                    |
|----|--------------------------------|---------------------------------------------------------------------------|---------------------------------|
| 1  | Проверка кода ответа при POST | Отправляет объект через payload и проверяет код ответа | Код 200 или 201 |
| 2  | Проверка создания объекта     | Отправляет объект, извлекает ID из ответа                                 | ID присутствует в статусе ответа  |
| 3  | Проверка получения объекта    | Отправляет объект, получает его по ID и проверяет поля                   | Данные соответствуют отправленным |
| 4  | POST с пустым телом           | Отправляет пустые поля запроса                                            | Код 400                           |
| 5  | POST без обязательных полей   | Отправляет объект без одного из полей name, price                        | Код 200 или 201                   |
| 6  | POST без sellerId             | Отправляет объект без sellerId                                            | Код 400                           |
| 7  | POST с некорректными данными  | Отправляет объект с некорректными значениями полей                        | Код 400                           |



## **GET /api/1/item/{item_id}** (Получение объявления)
| ID  | Название                                      | Описание                                                                 | Ожидаемый результат                     |
|----|--------------------------------|---------------------------------------------------------------------------|----------------------------------|
| 1  | GET запрос к существующему объекту | Запрашивает объект по ID и проверяет код ответа и содержимое | Код 200, данные не пустые |
| 2  | Проверка структуры ответа | Проверяет, что ответ содержит все необходимые поля | Код 200, структура корректная |
| 3  | Проверка типов данных | Проверяет, что поля содержат значения ожидаемых типов | Код 200, типы данных верные |
| 4  | Запрос несуществующего объекта | Запрашивает несуществующий объект по ID | Код 404 |
| 5  | Запрос с некорректным ID | Запрашивает объект с некорректным форматом ID | Код 400 |
| 6  | Проверка отсутствия лишних полей | Проверяет, что в ответе нет лишних полей | Код 200, нет лишних полей |



## **GET /api/1/{sellerId}/item** (Получение объявлений по продавцу)
| ID  | Название                                 | Описание                                        | Ожидаемый результат                    |
|----|---------------------------|-------------------------------------------------|---------------------------------|
| 1  | Успешное получение товаров продавца | Запрашивает товары у существующего продавца и проверяет код ответа | Код 200, возвращён список товаров |
| 2  | Проверка структуры ответа | Проверяет, что каждый товар содержит необходимые поля | Код 200, структура корректная  |
| 3  | Пустой список у продавца  | Запрашивает товары у продавца без объявлений    | Код 200, возвращён пустой список |
| 4  | Невалидный sellerId       | Запрос с некорректным ID продавца               | Код 400                         |
| 5  | Проверка привязки товаров | Проверяет, что товары принадлежат запрашиваемому продавцу | Код 200, товары соответствуют sellerId |
| 6  | Проверка данных | Проверяет, что поля содержат ожидаемые значения | Код 200, объявление найдено |



## **GET /api/1/statistic/{item_id}** (Получение статистики объявления)
| ID  | Название                              | Описание                                                                     | Ожидаемый результат                              |
|----|---------------------------------------|------------------------------------------------------------------------------|--------------------------------------------------|
| 1  | Проверка кода ответа по введенному ID | Запрашивает статистику по ID продавца, проверяет коды 200 и 404 | Код 200 для valid ID или 404 для non existent ID |
| 2  | Проверка полей в ответе               | Проверяет, что ответ содержит необходимые поля     | Код 200, структура корректная                    |
| 3  | Проверка типов данных                 | Проверяет, что статистика содержит корректные типы данных                    | Код 200, типы данных верные                      |
| 4  | Создание и проверка статистики        | Создаёт объект, затем проверяет, что статистика корректна                    | Код 200, данные совпадают                        |
| 5  | Создание объекта без contacts         | Создаёт объект без contacts, проверяет, что contacts = 0                     | Код 200, contacts = 0                            |
| 6  | Создание объекта без statistics       | Создаёт объект без statistics, проверяет, что статистика = 0                 | Код 200, все значения = 0                        |
| 7  | Запрос статистики с некорректным ID   | Запрашивает статистику с некорректным ID                                     | Код 400                                          |
